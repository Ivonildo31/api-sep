{"version":3,"sources":["routes/process.ts"],"names":[],"mappings":";AAAA,qCAAmC;AACnC,sEAAqE;AAErE,IAAM,yBAAyB,GAAG,UAAE,KAAK;IAErC,MAAM,CAAC,UAAE,GAAG,EAAE,GAAG,EAAE,IAAI;QACnB,IAAM,mBAAmB,GAAG,GAAG,CAAC,GAAG,CAAE,eAAe,CAAE,CAAC;QACvD,EAAE,CAAC,CAAE,CAAC,mBAAmB,IAAI,mBAAmB,KAAK,KAAM,CAAC,CAAC,CAAC;YAC1D,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC;YACrB,GAAG,CAAC,IAAI,CAAE,eAAe,CAAE,CAAC;QAChC,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,EAAE,CAAC;QACX,CAAC;IACL,CAAC,CAAC;AACN,CAAC,CAAC;;AAEF,qBAAe,UAAA,GAAG;IACd,IAAI,iBAAiB,GAAG,IAAI,qCAAiB,EAAE,CAAC;IAEhD,GAAG,CAAC,GAAG,CAAE,WAAW,EAAE,iBAAiB,CAAC,SAAS,CAAE,CAAC;IAEpD,GAAG,CAAC,IAAI,CAAE,iBAAiB,EAAE,yBAAyB,CAAE,gBAAM,CAAC,YAAY,CAAE,EAAE,iBAAiB,CAAC,MAAM,CAAE,CAAC;IAC1G,GAAG,CAAC,GAAG,CAAE,8BAA8B,EAAE,yBAAyB,CAAE,gBAAM,CAAC,YAAY,CAAE,EAAE,iBAAiB,CAAC,qBAAqB,CAAE,CAAC;IACrI,GAAG,CAAC,IAAI,CAAE,gBAAgB,EAAE,iBAAiB,CAAC,YAAY,CAAE,CAAC;IAC7D,GAAG,CAAC,GAAG,CAAE,gBAAgB,EAAE,iBAAiB,CAAC,WAAW,CAAE,CAAC;AAC/D,CAAC,CAAC","file":"routes/process.js","sourcesContent":["import config from '../config/app';\nimport { ProcessController } from '../controllers/processController';\n\nconst verifyBasicAuthentication = ( token ) => {\n\n    return ( req, res, next ) => {\n        const authorizationHeader = req.get( 'Authorization' );\n        if ( !authorizationHeader || authorizationHeader !== token ) {\n            res.statusCode = 401;\n            res.send( 'Access denied' );\n        } else {\n            next();\n        }\n    };\n};\n\nexport default app => {\n    let processController = new ProcessController();\n\n    app.get( '/:number?', processController.getSingle );\n\n    app.post( '/process/update', verifyBasicAuthentication( config.sepAuthToken ), processController.update );\n    app.get( '/data/favorite/:number/users', verifyBasicAuthentication( config.sepAuthToken ), processController.getUsersBySepProtocol );\n    app.post( '/data/favorite', processController.saveFavorite );\n    app.get( '/data/favorite', processController.getFavorite );\n};\n"],"sourceRoot":"c:\\_gitHub\\prodest\\api-sep\\src\\"}