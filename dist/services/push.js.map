{"version":3,"sources":["services/push.ts"],"names":[],"mappings":";AAAA,mDAAiC;AAEjC;IAMI,qBAAa,GAAG,EAAE,QAAQ,EAAE,QAAQ;QAJ5B,SAAI,GAAG,EAAE,CAAC;QACV,cAAS,GAAG,EAAE,CAAC;QACf,cAAS,GAAG,EAAE,CAAC;QAGnB,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QAChB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;IAC9B,CAAC;IAAA,CAAC;IAEM,iCAAW,GAAnB,UAAqB,IAAI,EAAE,aAAa;QACpC,IAAM,OAAO,GAAG;YACZ,MAAM,EAAE,MAAM;YACd,GAAG,EAAE,IAAI,CAAC,IAAI;YACd,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;YACV,OAAO,EAAE;gBACL,eAAe,EAAE,aAAa;aACjC;SACJ,CAAC;QAEF,MAAM,CAAC,4BAAE,CAAE,OAAO,CAAE,CAAC;IACzB,CAAC;IAAA,CAAC;IAEK,0BAAI,GAAX,UAAa,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,WAAW,EAAE,IAAI;QACjD,IAAM,aAAa,GAAG,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAE,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,SAAS,CAAE,CAAC,QAAQ,CAAE,QAAQ,CAAE,CAAC;QAE3G,IAAM,QAAQ,GAAG;YACb,KAAK,EAAE,KAAK;YACZ,OAAO,EAAE,OAAO;YAChB,KAAK,EAAE,KAAK;YACZ,MAAM,EAAE,WAAW;YACnB,IAAI,EAAE,IAAI;SACb,CAAC;QAEF,IAAI,CAAC,WAAW,CAAE,QAAQ,EAAE,aAAa,CAAE,CAAC;IAChD,CAAC;IAAA,CAAC;IACN,kBAAC;AAAD,CAvCA,AAuCC,IAAA;AAvCY,kCAAW","file":"services/push.js","sourcesContent":["import rp from 'request-promise';\n\nexport class PushService {\n\n    private _url = '';\n    private _username = '';\n    private _password = '';\n\n    constructor( url, username, password ) {\n        this._url = url;\n        this._username = username;\n        this._password = password;\n    };\n\n    private sendRequest( data, authorization ) {\n        const options = {\n            method: 'POST',\n            uri: this._url,\n            body: data,\n            json: true,\n            headers: {\n                'Authorization': authorization\n            }\n        };\n\n        return rp( options );\n    };\n\n    public send( users, message, state, stateParams, icon ) {\n        const authorization = 'Basic ' + Buffer.from( this._username + ':' + this._password ).toString( 'base64' );\n\n        const pushData = {\n            users: users,\n            message: message,\n            state: state,\n            params: stateParams,\n            icon: icon\n        };\n\n        this.sendRequest( pushData, authorization );\n    };\n}\n"],"sourceRoot":"c:\\_gitHub\\prodest\\api-sep\\src\\"}