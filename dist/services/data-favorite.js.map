{"version":3,"sources":["services/data-favorite.ts"],"names":[],"mappings":";AAAA,iDAA6C;AAC7C,6DAAmD;AAEnD;IAII,sBAAqB,WAA4C;QAA5C,4BAAA,EAAA,kBAA+B,kCAAW,EAAE;QAA5C,gBAAW,GAAX,WAAW,CAAiC;QAHzD,eAAU,GAAG,qBAAqB,CAAC;QACnC,WAAM,GAAG,SAAS,CAAC;QAGvB,IAAI,CAAC,WAAW,GAAG,IAAI,kCAAW,CAAE,sBAAU,CAAC,IAAI,EAAE,sBAAU,CAAC,IAAI,EAAE,sBAAU,CAAC,OAAO,EAAE,sBAAU,CAAC,EAAE,CAAE,CAAC;QAC1G,IAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC;QACzC,IAAM,KAAK,GAAG;YACV,eAAe,EAAE,CAAE,IAAI,CAAC,MAAM,EAAE,CAAE;SACrC,CAAC;QACF,IAAM,OAAO,GAAG;YACZ;gBACI,IAAI,EAAE,iBAAiB;gBACvB,OAAO,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE;aAC3B;SACJ,CAAC;QACF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,cAAc,CAAE,IAAI,CAAC,UAAU,EAAE,KAAK,EAAE,OAAO,CAAE,CAAC;IACrF,CAAC;IAEM,mCAAY,GAAnB,UAAqB,IAAI;QACrB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAE,CAAC;IACtD,CAAC;IAEM,kCAAW,GAAlB,UAAoB,GAAG;QACnB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAE,IAAI,CAAC,MAAM,EAAE,GAAG,CAAE,CAAC;IACpD,CAAC;IAEM,4CAAqB,GAA5B,UAA8B,MAAM;QAChC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAE,IAAI,CAAC,MAAM,EAAE,MAAM,EAAE,iBAAiB,EAAE,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,EAAE,EAAP,CAAO,CAAE,CAAC;IAC9F,CAAC;IACL,mBAAC;AAAD,CA9BA,AA8BC,IAAA;AA9BY,oCAAY","file":"services/data-favorite.js","sourcesContent":["import dataConfig from '../config/rethinkdb';\nimport { DataService } from 'prodest-espm-storage';\n\nexport class DataFavorite {\n    private entityName = 'favoriteSepProtocol';\n    private entity = undefined;\n\n    constructor( private dataService: DataService = new DataService() ) {\n        this.dataService = new DataService( dataConfig.host, dataConfig.port, dataConfig.authKey, dataConfig.db );\n        const type = this.dataService.thinkTypes;\n        const model = {\n            favoriteProcess: [ type.number() ]\n        };\n        const indexes = [\n            {\n                name: 'favoriteProcess',\n                options: { multi: true }\n            }\n        ];\n        this.entity = this.dataService.defineResource( this.entityName, model, indexes );\n    }\n\n    public saveFavorite( data ) {\n        return this.dataService.save( this.entity, data );\n    }\n\n    public getFavorite( sub ) {\n        return this.dataService.get( this.entity, sub );\n    }\n\n    public getUsersBySepProtocol( number ) {\n        return this.dataService.getAll( this.entity, number, 'favoriteProcess', item => item.id );\n    }\n}"],"sourceRoot":"c:\\_gitHub\\prodest\\api-sep\\src\\"}